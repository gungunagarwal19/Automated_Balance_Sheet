# ğŸ“Š GL Analytics Dashboard - User Guide

## Overview
A comprehensive analytics dashboard for GL Reconciliation data, accessible to **ALL roles** (Maker, Reviewer, FC, CFO).

---

## ğŸš€ How to Access

1. **Login** with any user credentials:
   - `maker1` / `password123`
   - `reviewer1` / `password123`
   - `fc1` / `password123`
   - `cfo1` / `password123`

2. In the sidebar, select **"Dashboard Analytics"** page

---

## ğŸ“ˆ Dashboard Features

### 1. **Key Metrics Summary** (Top Row)
- **Total GL Accounts**: Total number of GL accounts
- **Pending Workings**: Items awaiting supporting documentation
- **Reviewed (Green)**: Successfully reviewed accounts
- **Timeline Delays**: Items with delayed reviews
- **Major Variances**: Accounts with variance > 2Ã— mean

---

### 2. **Filters** (Left Sidebar)
Filter the entire dashboard by:
- **Department**: Select specific department or "All"
- **Status**: Green (reviewed) / Red (pending) / All
- **Timeline Status**: On Time / Delayed / All

All charts and metrics update dynamically based on filters!

---

### 3. **Visual Analytics Tabs**

#### ğŸ“Š **Overview Tab**
- Summary bar chart of all metrics
- Working/supporting file status pie chart
- Quick snapshot of overall GL health

#### ğŸ” **Hygiene Analysis Tab**
- Reviewed vs Pending review pie chart
- Status distribution by department (stacked bar)
- Green/Red flag analysis

#### â° **Timeline Analysis Tab**
- Timeline performance pie chart (On Time vs Delayed)
- Average delay by department (top 10)
- Timeline deviation histogram
- Identifies bottleneck departments

#### ğŸ“ˆ **Variance Analysis Tab**
- Variance distribution histogram with threshold lines
- Top 10 positive variances table
- Scatter plot: Variance % vs Previous Amount
- Identifies outlier accounts requiring attention

#### ğŸ¢ **Department Analysis Tab**
- Pending workings by department (top 15)
- Department-wise summary table:
  - GL Count
  - Average Absolute Variance %
  - Average Timeline Deviation
- Criticality distribution (Critical/Medium/Low) by department

---

### 4. **Detailed Data Table**
- Complete GL data with all key columns
- Formatted amounts (â‚¹) and percentages (%)
- Scrollable table with 400px height
- Shows filtered data based on sidebar selections

---

### 5. **Export Options**
Two download buttons:
1. **Download Filtered Data (CSV)** - All filtered GL records
2. **Download Summary (CSV)** - Summary metrics table

Files auto-named with timestamp: `filtered_gl_data_20251108_143022.csv`

---

## ğŸ“Š Charts Included

### From `withamounts.py` Analysis:

1. âœ… **Summary Overview Bar Chart**
2. âœ… **Working Status Pie Chart** (Pending/Complete/No Work Required)
3. âœ… **Hygiene Pie Chart** (Green/Red/Unknown)
4. âœ… **Status by Department** (Stacked horizontal bar)
5. âœ… **Timeline Status Pie** (On Time vs Delayed)
6. âœ… **Average Delay by Department** (Top 10 horizontal bar)
7. âœ… **Timeline Deviation Histogram**
8. âœ… **Variance Distribution Histogram** (with threshold lines)
9. âœ… **Variance vs Amount Scatter Plot** (color-coded)
10. âœ… **Pending Workings by Department** (Top 15 bar)
11. âœ… **Department Summary Table**
12. âœ… **Criticality by Department** (Stacked bar)

---

## ğŸ¯ Use Cases by Role

### **CFO**
- High-level overview of all GL accounts
- Identify departments with most delays
- Review major variances requiring attention
- Export data for board presentations

### **FC (Financial Controller)**
- Monitor pending reviews (red flags)
- Track timeline performance
- Analyze variance trends
- Department-wise performance review

### **Reviewer**
- See workload distribution
- Identify pending workings
- Track review completion rates
- Prioritize high-variance items

### **Maker**
- Understand departmental metrics
- View variance distributions
- Check working completion status
- Benchmark against other departments

---

## ğŸ”§ Technical Details

### Data Source
- **File**: `Augmented_GL_Reconciliation_Data.csv`
- **Location**: Project root directory
- **Generated by**: `withamounts.py` script

### Columns Used
- `g_l_account_number` - GL Account ID
- `main_head`, `sub_head` - Account classification
- `responsible_department` - Owner department
- `current_amount`, `prev_amount` - Financial amounts
- `variance_value` - Percentage variance
- `flag_green___red` - Review status
- `timeline_status` - On Time/Delayed
- `timeline_deviation_days` - Days deviation
- `working_needed` - Support documentation status
- `c_m_l` - Criticality (Critical/Medium/Low)

### Calculations
- **Working Status**: Classified as Pending/Complete/No Work Required
- **Major Variance Threshold**: 2Ã— Mean Absolute Variance
- **Timeline Status**: Positive deviation = Delayed, Zero/Negative = On Time

---

## ğŸ’¡ Tips

1. **Start with filters**: Narrow down to your department first
2. **Use tabs**: Each tab focuses on specific analysis
3. **Hover over charts**: Get exact values (if supported)
4. **Export data**: Download for offline analysis in Excel
5. **Check major variances**: Tab 4 shows items needing attention

---

## ğŸ› Troubleshooting

### Dashboard not showing?
- Ensure `Augmented_GL_Reconciliation_Data.csv` exists in project root
- Check file has data (not empty)

### Charts not displaying?
- Refresh the page (Streamlit rerun)
- Clear cache: Top-right menu â†’ "Clear cache"

### Filters not working?
- Try selecting "All" first, then specific filter
- Check if filtered result has data

---

## ğŸ¨ Color Scheme

- **Green**: Reviewed/On Time/Positive metrics
- **Red**: Pending/Delayed/Issues
- **Orange**: Pending workings
- **Purple**: Timeline deviations
- **Blue**: General data/neutral

---

## ğŸ“ Future Enhancements (Optional)

- Real-time data refresh
- Drill-down to individual GL details
- Email alerts for threshold breaches
- Trend analysis (month-over-month)
- Interactive filters (multi-select)
- Custom threshold configuration

---

## âœ… Ready to Use!

Access the dashboard now:
1. Run: `streamlit run app.py`
2. Login with any role
3. Navigate to **"Dashboard Analytics"** in sidebar
4. Explore the insights! ğŸ“Š

**All visualizations from `withamounts.py` are now in one interactive dashboard!** ğŸ‰
